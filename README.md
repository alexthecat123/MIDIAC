# MIDIAC
A device that plays MIDI files on floppy drives, hard drives, scanners, and dot matrix printers.

The MIDIAC ("MIDI" because it plays MIDI files and "AC" to make it sound like ENIAC, UNIVAC, and other computers from the 1940s and 50s) is a device that plays MIDI files on scanners, floppy drives, hard drives, and dot matrix print heads. The project was inspired by the Floppotron by Paweł Zadrożniak (https://www.youtube.com/c/Pawe%C5%82Zadro%C5%BCniak/videos) and I attempted something similar a few years ago with Scott Means (https://github.com/smeans/midiac), but that project was never completed. A few months ago, I decided to start from scratch and here's the result. The functionality of the MIDIAC is actually very simple in theory. The device works by pulsing the stepper motors (in the case of the floppy drives and scanners) and the pins of a dot matrix print head (in the case of the dot matrix printers) at the same frequency as the musical note that it intends to play. The hard drives are used for percussion since they make a loud click noise when you apply power to the voice coils that move the heads. At the moment, the system has two scanners, two stacks of six floppies each, and two hard drives (one for low drums and one for high drums), so it has four voice polyphony plus drums. It supports dot matrix printers as well, but this functionality is currently disabled since I accidentally blew the transistors that were driving the printer and I'm waiting for more to come in the mail. Each of these individual instruments is called a sound module and is controlled by an Arduino. At the heart of the system is a Python program that processes the desired MIDI file and sends messages over serial from the appropriate MIDI channels to the corresponding sound module Arduino. Each type of sound module is running different code that allows it to interface with its specific type of hardware (floppy, scanner, hard drive, or printer). The Arduinos in the floppy sound modules connect directly to the direction, step, and enable pins on the floppy drives, the hard drives are controlled using a ULN2003A Darlington array, the scanners are controlled using A4988 stepper drivers, and the dot matrix print head is controlled using TIP120 transistors. The sound modules also support pitch bend messages and different velocities, allowing them to reproduce a more accurate rendition of the original MIDI file.
# Files/Folders:
  - The **arranged** folder contains songs that I have already arranged and tested on the MIDIAC.
  - The **dotMatrixModule** folder contains the Arduino code for interfacing with the dot matrix print head.
  - The **floppyModule** folder contains the Arduino code for interfacing with each stack of floppy drives.
  - The **hardDriveModule** folder contains the Arduino code for playing audio frequencies on the voice coils of the hard drives (SOUNDS TERRIBLE, DON'T USE).
  - The **percussionModule** folder contains the Arduino code for interfacing with the hard drives for percussion.
  - The **scannerModule** folder contains the Arduino code for interfacing with the scanners.
  - The **songs** folder contains MIDI files that I plan on arranging for the MIDIAC in the future.
  - **midiac.py** is the main Python program that parses the MIDI file and sends note commands over serial to the sound modules. This code is very inelegant, but it works. The section that sends commands to the dot matrix printer module is commented out since the dot matrix printer is not operational at the moment.
  
# To Do:
- MAKE SYSTEM FOR ASSIGNING INSTRUMENTS TO CHANNELS MORE INTUITIVE.
- FIX CURRENTLYPLAYING SO THAT THEY ARE ALL IN ONE LIST AND LIST SIZE IS DETERMINED BY NUMBER OF INSTRUMENTS.
- PUT SOME OF THE PYTHON CODE IN FUNCTIONS TO MAKE IT SIMPLER.
- DISABLE STEPPER DRIVER WHEN NOT PLAYING A NOTE TO REDUCE MOTOR STRESS AND HEATING.
